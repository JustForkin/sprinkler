!function(t,i){"use strict";"function"==typeof define&&define.amd?define(["exports"],i):i("object"==typeof exports?exports:t.Sprinkler={})}(this,function(t){"use strict";var i=function(t,i){var n,h,r,e,o;for(r=t.length,h=[],o=0,e=function(){o+=1;var t=o===r;t&&i(null,h)},n=0;n<t.length;n+=1)h.push(new Image),h[n].onload=e,h[n].src=t[n]},n=function(t,i){var n=i-t;return t+n*Math.random()},h=function(t){var i=0,h=t.length,r=n(i,h),e=Math.floor(r),o=e;return t[o]},r=function(t){var i,n,h,r;i=Math.exp(-t),n=0,h=1;do n+=1,r=Math.random(),h*=r;while(h>i);return n-1},e=function(t){var i=function(){t.width=window.innerWidth,t.height=window.innerHeight};window.addEventListener("resize",i,!1),i()},o=function(t,i,n,h,r,e,o,s,a,d,u,f,c,l,w,g,p,v){this.x=t,this.y=i,this.z=n,this.r=h,this.a=r,this.dx=e,this.dy=o,this.dz=s,this.dr=a,this.da=d,this.ddx=u,this.ddy=f,this.ddz=c,this.ddr=l,this.dda=w,this.img=g,this.w=p,this.h=v};o.prototype.tick=function(t){this.x+=this.dx*t,this.y+=this.dy*t,this.z+=this.dz*t,this.r+=this.dr*t,this.a+=Math.min(1,Math.max(0,this.a+this.da*t)),this.dx+=this.ddx*t,this.dy+=this.ddy*t,this.dz+=this.ddz*t,this.dr+=this.ddr*t,this.da+=this.dda*t};var s=function(t){var s=[],a=[],d=!1,u=null,f=t.getContext("2d");e(t);var c=function(){var i,r,e;return i=t.width,r=t.height,e=h(s),new o(n(0,i),-Math.max(e.width,e.height)/2,n(.38,.62),2*Math.PI*n(0,1),1,n(-1,1),n(70,100),0,n(-.5,.5),0,0,0,0,0,0,e,e.width,e.height)},l=function(i){var n,h,e,o,s;for(n=0;n<a.length;n+=1)a[n].tick(i);var d=10,u=i*d,f=r(u);for(n=0;f>n;n+=1)a.push(c());for(h=t.height,e=[],n=0;n<a.length;n+=1)s=Math.max(a[n].w,a[n].h)/2,o=a[n].y<h+s,o&&e.push(a[n]);a=e},w=function(){var i,n,h;for(f.clearRect(0,0,t.width,t.height),i=0;i<a.length;i+=1)f.globalAlpha=a[i].a,n=a[i].z*a[i].w,h=a[i].z*a[i].h,f.translate(a[i].x,a[i].y),f.rotate(a[i].r),f.drawImage(a[i].img,-Math.floor(n/2),-Math.floor(h/2),n,h),f.setTransform(1,0,0,1,0,0),f.globalAlpha=1},g=function x(){var t,i;t=Date.now(),i=null===u?0:t-u,u=t,l(i/1e3),w(),d&&window.requestAnimationFrame(x)},p=function(){d||(d=!0,g())},v=function(){d=!1};this.load=function(t,n){i(t,function(t,i){return t?void console.error(t):([].push.apply(s,i),void n(p,v))})}};t.create=function(t){return new s(t)},t.extension=s.prototype,t.version="0.1.0"});
//# sourceMappingURL=sprinkler.min.js.map