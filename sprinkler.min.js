!function(t,i){"use strict";"function"==typeof define&&define.amd?define(["exports"],i):i("object"==typeof exports?exports:t.Sprinkler={})}(this,function(t){"use strict";var i=function(t,i){var n,d,a,r,h;for(a=t.length,d=[],h=0,r=function(){h+=1;var t=h===a;t&&i(null,d)},n=0;n<t.length;n+=1)d.push(new Image),d[n].onload=r,d[n].src=t[n]},n=function(t,i){var n=i-t;return t+n*Math.random()},d=function(t){var i=0,d=t.length,a=n(i,d),r=Math.floor(a),h=r;return t[h]},a=function(t){var i,n,d,a;i=Math.exp(-t),n=0,d=1;do n+=1,a=Math.random(),d*=a;while(d>i);return n-1},r=function(t){var i=function(){t.width=window.innerWidth,t.height=window.innerHeight};window.addEventListener("resize",i,!1),i()},h=function(t,i,n,d,a,r,h,e,o,s,M,x,f,u,c,l,y,p){this.x=t,this.y=i,this.z=n,this.r=d,this.a=a,this.dx=r,this.dy=h,this.dz=e,this.dr=o,this.da=s,this.ddx=M,this.ddy=x,this.ddz=f,this.ddr=u,this.dda=c,this.img=l,this.w=y,this.h=p};h.prototype.tick=function(t){this.x+=this.dx*t,this.y+=this.dy*t,this.z+=this.dz*t,this.r+=this.dr*t,this.a+=Math.min(1,Math.max(0,this.a+this.da*t)),this.dx+=this.ddx*t,this.dy+=this.ddy*t,this.dz+=this.ddz*t,this.dr+=this.ddr*t,this.da+=this.dda*t};var e=function(t,e){var o=[],s=[],M=!1,x=null,f=t.getContext("2d");r(t);var u,c={zMin:1,zMax:1,rMin:0,rMax:2*Math.PI,aMin:1,aMax:1,dxMin:-1,dxMax:1,dyMin:100,dyMax:100,dzMin:0,dzMax:0,drMin:-1,drMax:1,daMin:0,daMax:0,ddxMin:0,ddxMax:0,ddyMin:0,ddyMax:0,ddzMin:0,ddzMax:0,ddrMin:0,ddrMax:0,ddaMin:0,ddaMax:0,imagesInSecond:16};"undefined"==typeof e&&(e={});for(u in c)c.hasOwnProperty(u)&&(e.hasOwnProperty(u)?typeof e[u]!=typeof c[u]&&(e[u]=c[u]):e[u]=c[u]);var l=function(){var i,a,r;return i=t.width,a=t.height,r=d(o),new h(n(0,i),-e.zMax*Math.max(r.width,r.height)/2,n(e.zMin,e.zMax),n(e.rMin,e.rMax),n(e.aMin,e.aMax),n(e.dxMin,e.dxMax),n(e.dyMin,e.dyMax),n(e.dzMin,e.dzMax),n(e.drMin,e.drMax),n(e.daMin,e.daMax),n(e.ddxMin,e.ddxMax),n(e.ddyMin,e.ddyMax),n(e.ddzMin,e.ddzMax),n(e.ddrMin,e.ddrMax),n(e.ddaMin,e.ddaMax),r,r.width,r.height)},y=function(i){var n,d,r,h,o;for(n=0;n<s.length;n+=1)s[n].tick(i);var M=e.imagesInSecond,x=i*M,f=a(x);for(n=0;f>n;n+=1)s.push(l());for(d=t.height,r=[],n=0;n<s.length;n+=1)o=Math.max(s[n].w,s[n].h)/2,h=s[n].y<d+o,h&&r.push(s[n]);s=r},p=function(){var i,n,d;for(f.clearRect(0,0,t.width,t.height),i=0;i<s.length;i+=1)f.globalAlpha=s[i].a,n=s[i].z*s[i].w,d=s[i].z*s[i].h,f.translate(s[i].x,s[i].y),f.rotate(s[i].r),f.drawImage(s[i].img,-Math.floor(n/2),-Math.floor(d/2),n,d),f.setTransform(1,0,0,1,0,0),f.globalAlpha=1},w=function v(){var t,i;t=Date.now(),i=null===x?0:t-x,x=t,y(i/1e3),p(),M&&window.requestAnimationFrame(v)},z=function(){M||(M=!0,w())},g=function(){M=!1};this.load=function(t,n){i(t,function(t,i){return t?void console.error(t):([].push.apply(o,i),void n(z,g))})}};t.create=function(t,i){return new e(t,i)},t.extension=e.prototype,t.version="0.2.0"});
//# sourceMappingURL=sprinkler.min.js.map